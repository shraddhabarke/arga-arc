{
    "nl_description": "Remove all objects except for those forming a continuous region of same-colored objects that include both ends of the grid vertically (first and last row) or horizontally (first and last column).",
    "code": "(do\n    (rule\n        (filter\n            (or\n                (and\n                    (filter_by_columns 0)\n                    (varand\n                        (is_direct_neighbor)\n                        (filter_by_columns max)\n                    )\n                )\n                (and\n                    (filter_by_height 0)\n                    (varand\n                        (is_direct_neighbor)\n                        (filter_by_height max)\n                    )\n                )\n            )\n        )\n        (apply\n            (noop)\n        )\n    )\n    (rule\n        (filter\n            (not\n                (or\n                    (and\n                        (filter_by_columns 0)\n                        (varand\n                            (is_direct_neighbor)\n                            (filter_by_columns max)\n                        )\n                    )\n                    (and\n                        (filter_by_height 0)\n                        (varand\n                            (is_direct_neighbor)\n                            (filter_by_height max)\n                        )\n                    )\n                )\n            )\n        )\n        (apply\n            (update_color O)\n        )\n    )\n)"
}

{
    "nl_description": "Remove all objects except those forming the largest connected component of the same color in each grid.",
    "code": "(do\n    (rule\n        (filter\n            (not (filter_by_color max))\n        )\n        (apply\n            (update_color O)\n        )\n    )\n)"
}